# é…ç½®æ–‡ä»¶ç®¡ç†è¯´æ˜Ž

## ðŸŽ¯ æŽ¨èæ–¹æ¡ˆï¼šä½¿ç”¨çŽ¯å¢ƒå˜é‡

ä¸ºäº†å®‰å…¨å’Œç®¡ç†æ–¹ä¾¿ï¼Œ**æŽ¨èä½¿ç”¨ `.env` æ–‡ä»¶**æ¥ç®¡ç†æ•æ„Ÿé…ç½®ï¼ˆå¦‚æ•°æ®åº“å¯†ç ï¼‰ã€‚

---

## å¿«é€Ÿå¼€å§‹

### 1. åˆ›å»ºçŽ¯å¢ƒå˜é‡æ–‡ä»¶

åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š

```bash
cd /www/wwwroot/xl-im

# åˆ›å»º .env æ–‡ä»¶
cat > .env << 'EOF'
# æ•°æ®åº“é…ç½®
DB_USERNAME=root
DB_PASSWORD=ä½ çš„MySQLå¯†ç 

# Redisé…ç½®ï¼ˆå¦‚æžœæ²¡æœ‰å¯†ç å¯ä»¥ç•™ç©ºï¼‰
REDIS_PASSWORD=

# å…¶ä»–é…ç½®ä½¿ç”¨é»˜è®¤å€¼å³å¯
EOF

# è®¾ç½®æ–‡ä»¶æƒé™ï¼ˆä¿æŠ¤æ•æ„Ÿä¿¡æ¯ï¼‰
chmod 600 .env
```

### 2. å¯åŠ¨æœåŠ¡

```bash
./start.sh
```

å¯åŠ¨è„šæœ¬ä¼šè‡ªåŠ¨åŠ è½½ `.env` æ–‡ä»¶ä¸­çš„çŽ¯å¢ƒå˜é‡ã€‚

---

## çŽ¯å¢ƒå˜é‡è¯´æ˜Ž

| å˜é‡å | è¯´æ˜Ž | é»˜è®¤å€¼ | æ˜¯å¦å¿…å¡« |
|--------|------|--------|----------|
| `DB_URL` | MySQLè¿žæŽ¥URL | localhost:3306/xl_im | å¦ |
| `DB_USERNAME` | MySQLç”¨æˆ·å | root | å¦ |
| `DB_PASSWORD` | MySQLå¯†ç  | ç©º | **æ˜¯** |
| `REDIS_HOST` | Redisåœ°å€ | localhost | å¦ |
| `REDIS_PORT` | Redisç«¯å£ | 6379 | å¦ |
| `REDIS_PASSWORD` | Rediså¯†ç  | ç©º | å¦ |
| `MONGODB_URI` | MongoDBè¿žæŽ¥URI | mongodb://localhost:27017/xl_im | å¦ |
| `UPLOAD_PATH` | æ–‡ä»¶ä¸Šä¼ è·¯å¾„ | /www/wwwroot/uploads | å¦ |
| `UPLOAD_BASE_URL` | æ–‡ä»¶è®¿é—®URL | http://159.75.243.81/uploads | å¦ |

---

## é…ç½®ä¼˜å…ˆçº§

1. **çŽ¯å¢ƒå˜é‡**ï¼ˆ.envæ–‡ä»¶æˆ–ç³»ç»ŸçŽ¯å¢ƒå˜é‡ï¼‰- æœ€é«˜ä¼˜å…ˆçº§
2. **å¤–éƒ¨é…ç½®æ–‡ä»¶**ï¼ˆapplication-prod.ymlï¼‰- å¦‚æžœå­˜åœ¨
3. **JARåŒ…å†…é…ç½®**ï¼ˆapplication-prod.ymlï¼‰- é»˜è®¤å€¼

---

## å®‰å…¨æç¤º

- âœ… `.env` æ–‡ä»¶åªåŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œä¸ä¼šè¢«æäº¤åˆ°Git
- âœ… è®¾ç½®æ–‡ä»¶æƒé™ï¼š`chmod 600 .env`
- âœ… ä¸åŒçŽ¯å¢ƒï¼ˆå¼€å‘/æµ‹è¯•/ç”Ÿäº§ï¼‰ä½¿ç”¨ä¸åŒçš„å¯†ç 

